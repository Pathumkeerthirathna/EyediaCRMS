// src/features/CustomerIssues/hooks/useCustomerIssues.ts
import { useState, useEffect } from "react";
import { CustomerIssue } from "../types";

export function useCustomerIssues() {
  const [issues, setIssues] = useState<CustomerIssue[]>([]);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    // Simulate API delay
    setTimeout(() => {
      const dummyIssues: CustomerIssue[] = [
        {
            id: "000001",
            customerID: "CUST001",
            customerName: "John Doe",
            customerPhone: "0711234567",
            issueDesc: "Payment gateway fails on checkout.",
            reportedAt: "2025-08-01T09:08:36.137Z",
            resolvedAt: "1900-01-01T00:00:00",
            createdBy: "USR001",
            createduser: "Jane Smith",
            communicationMethod: 1,
            issueStatus: 0, // Pending
        },
        {
            id: "000002",
            customerID: "CUST002",
            customerName: "Acme Corp",
            customerPhone: "0719876543",
            issueDesc: "Billing module throws error when processing recurring invoices.",
            reportedAt: "2025-08-02T10:15:00.000Z",
            resolvedAt: "1900-01-01T00:00:00",
            createdBy: "USR002",
            createduser: "Arnold Funk",
            communicationMethod: 2,
            issueStatus: 2, // In Progress
        },
        {
            id: "000003",
            customerID: "CUST003",
            customerName: "Green Leaf Ltd",
            customerPhone: "0712223344",
            issueDesc: "Unable to update customer address in profile.",
            reportedAt: "2025-08-03T08:30:00.000Z",
            resolvedAt: "1900-01-01T00:00:00",
            createdBy: "USR003",
            createduser: "Samantha Perera",
            communicationMethod: 3,
            issueStatus: 1, // Ticket Created
        },
        {
            id: "000004",
            customerID: "CUST004",
            customerName: "Tech Solutions",
            customerPhone: "0778899001",
            issueDesc: "Error 500 when exporting sales reports.",
            reportedAt: "2025-08-03T14:45:00.000Z",
            resolvedAt: "1900-01-01T00:00:00",
            createdBy: "USR004",
            createduser: "Michael Fernando",
            communicationMethod: 2,
            issueStatus: 3, // Resolved
        },
        {
            id: "000005",
            customerID: "CUST005",
            customerName: "Sunrise Bakery",
            customerPhone: "0751230987",
            issueDesc: "Inventory not updating after stock addition.",
            reportedAt: "2025-08-04T11:00:00.000Z",
            resolvedAt: "1900-01-01T00:00:00",
            createdBy: "USR005",
            createduser: "Nadeesha Silva",
            communicationMethod: 1,
            issueStatus: 0,
        },
        {
            id: "000006",
            customerID: "CUST006",
            customerName: "Oceanic Travels",
            customerPhone: "0713344556",
            issueDesc: "Booking confirmation email not sent to customer.",
            reportedAt: "2025-08-04T15:20:00.000Z",
            resolvedAt: "1900-01-01T00:00:00",
            createdBy: "USR006",
            createduser: "Ravindu Gunasekara",
            communicationMethod: 4,
            issueStatus: 2,
        },
        {
            id: "000007",
            customerID: "CUST007",
            customerName: "BlueWave IT",
            customerPhone: "0724455667",
            issueDesc: "License key activation fails for new users.",
            reportedAt: "2025-08-05T09:10:00.000Z",
            resolvedAt: "1900-01-01T00:00:00",
            createdBy: "USR007",
            createduser: "Kasun Jayasinghe",
            communicationMethod: 1,
            issueStatus: 4, // Escalated
        },
        {
            id: "000008",
            customerID: "CUST008",
            customerName: "City Mart",
            customerPhone: "0789988776",
            issueDesc: "POS system crashes during peak hours.",
            reportedAt: "2025-08-05T12:25:00.000Z",
            resolvedAt: "1900-01-01T00:00:00",
            createdBy: "USR008",
            createduser: "Anjali Weerasinghe",
            communicationMethod: 2,
            issueStatus: 1,
        },
        {
            id: "000009",
            customerID: "CUST009",
            customerName: "Evergreen Garden Supplies",
            customerPhone: "0765554433",
            issueDesc: "Product images not loading on website.",
            reportedAt: "2025-08-06T10:00:00.000Z",
            resolvedAt: "1900-01-01T00:00:00",
            createdBy: "USR009",
            createduser: "Chaminda Abeysekara",
            communicationMethod: 3,
            issueStatus: 0,
        },
        {
            id: "000010",
            customerID: "CUST010",
            customerName: "Pearl Jewellery",
            customerPhone: "0717654321",
            issueDesc: "Unable to process refund request.",
            reportedAt: "2025-08-06T16:40:00.000Z",
            resolvedAt: "1900-01-01T00:00:00",
            createdBy: "USR010",
            createduser: "Dilani Ranasinghe",
            communicationMethod: 1,
            issueStatus: 2,
        },
        {
            id: "000011",
            customerID: "CUST011",
            customerName: "Mountain Peak Adventures",
            customerPhone: "0776655443",
            issueDesc: "Booking system double charges customers.",
            reportedAt: "2025-08-07T09:15:00.000Z",
            resolvedAt: "1900-01-01T00:00:00",
            createdBy: "USR011",
            createduser: "Pasindu Fernando",
            communicationMethod: 4,
            issueStatus: 3,
        },
        {
            id: "000012",
            customerID: "CUST012",
            customerName: "FreshFoods Distributors",
            customerPhone: "0711122233",
            issueDesc: "Order history not showing for repeat customers.",
            reportedAt: "2025-08-07T14:30:00.000Z",
            resolvedAt: "1900-01-01T00:00:00",
            createdBy: "USR012",
            createduser: "Amaya Jayawardena",
            communicationMethod: 2,
            issueStatus: 0,
        },
        {
            id: "000013",
            customerID: "CUST013",
            customerName: "Silverline Electronics",
            customerPhone: "0723344556",
            issueDesc: "Delayed notification alerts in mobile app.",
            reportedAt: "2025-08-08T08:00:00.000Z",
            resolvedAt: "1900-01-01T00:00:00",
            createdBy: "USR013",
            createduser: "Tharindu Peris",
            communicationMethod: 1,
            issueStatus: 1,
        },
        {
            id: "000014",
            customerID: "CUST014",
            customerName: "Royal Textiles",
            customerPhone: "0756677889",
            issueDesc: "Incorrect discount calculation in checkout.",
            reportedAt: "2025-08-08T12:50:00.000Z",
            resolvedAt: "1900-01-01T00:00:00",
            createdBy: "USR014",
            createduser: "Isuru Wickramasinghe",
            communicationMethod: 2,
            issueStatus: 2,
        },
        {
            id: "000015",
            customerID: "CUST015",
            customerName: "EcoBuild Hardware",
            customerPhone: "0768899001",
            issueDesc: "Stock quantities not syncing with supplier feed.",
            reportedAt: "2025-08-09T10:25:00.000Z",
            resolvedAt: "1900-01-01T00:00:00",
            createdBy: "USR015",
            createduser: "Charitha Senanayake",
            communicationMethod: 3,
            issueStatus: 0,
        },
        {
            id: "000016",
            customerID: "CUST016",
            customerName: "Global Logistics",
            customerPhone: "0771122334",
            issueDesc: "Shipment tracking link broken in emails.",
            reportedAt: "2025-08-09T15:15:00.000Z",
            resolvedAt: "1900-01-01T00:00:00",
            createdBy: "USR016",
            createduser: "Nuwan Ekanayake",
            communicationMethod: 4,
            issueStatus: 4,
        },
        {
            id: "000017",
            customerID: "CUST017",
            customerName: "Island Fresh Produce",
            customerPhone: "0719988776",
            issueDesc: "Invoices not attaching to email confirmations.",
            reportedAt: "2025-08-10T09:40:00.000Z",
            resolvedAt: "1900-01-01T00:00:00",
            createdBy: "USR017",
            createduser: "Sachini Madushani",
            communicationMethod: 2,
            issueStatus: 2,
        },
        {
            id: "000018",
            customerID: "CUST018",
            customerName: "Nova Systems",
            customerPhone: "0724455667",
            issueDesc: "User role changes not reflecting until logout.",
            reportedAt: "2025-08-10T11:05:00.000Z",
            resolvedAt: "1900-01-01T00:00:00",
            createdBy: "USR018",
            createduser: "Rohan Samarasekara",
            communicationMethod: 1,
            issueStatus: 1,
        },
        {
            id: "000019",
            customerID: "CUST019",
            customerName: "Bright Minds Academy",
            customerPhone: "0757788990",
            issueDesc: "E-learning videos not loading for certain courses.",
            reportedAt: "2025-08-11T14:50:00.000Z",
            resolvedAt: "1900-01-01T00:00:00",
            createdBy: "USR019",
            createduser: "Dilshan Kariyawasam",
            communicationMethod: 3,
            issueStatus: 0,
        },
        {
            id: "000020",
            customerID: "CUST020",
            customerName: "Metro Fitness",
            customerPhone: "0776677889",
            issueDesc: "Membership auto-renewal not charging payment method.",
            reportedAt: "2025-08-11T17:30:00.000Z",
            resolvedAt: "1900-01-01T00:00:00",
            createdBy: "USR020",
            createduser: "Lakshani Peiris",
            communicationMethod: 4,
            issueStatus: 3,
        },
        {
            id: "000021",
            customerID: "CUST021",
            customerName: "Golden Harvest Foods",
            customerPhone: "0713344556",
            issueDesc: "Order confirmation SMS not sent to customer.",
            reportedAt: "2025-08-12T09:15:00.000Z",
            resolvedAt: "1900-01-01T00:00:00",
            createdBy: "USR021",
            createduser: "Sanduni Jayasuriya",
            communicationMethod: 1,
            issueStatus: 0, // Pending
        },
        {
            id: "000022",
            customerID: "CUST022",
            customerName: "Skyline Architects",
            customerPhone: "0726677889",
            issueDesc: "Blueprint file upload failing for large files.",
            reportedAt: "2025-08-12T14:40:00.000Z",
            resolvedAt: "1900-01-01T00:00:00",
            createdBy: "USR022",
            createduser: "Ravindu Wijesinghe",
            communicationMethod: 2,
            issueStatus: 2, // In Progress
        },
        {
            id: "000023",
            customerID: "CUST023",
            customerName: "Pet Paradise",
            customerPhone: "0759988776",
            issueDesc: "Veterinary appointment calendar not updating.",
            reportedAt: "2025-08-13T11:25:00.000Z",
            resolvedAt: "1900-01-01T00:00:00",
            createdBy: "USR023",
            createduser: "Isuri Madushani",
            communicationMethod: 3,
            issueStatus: 1, // Ticket Created
        },
        {
            id: "000024",
            customerID: "CUST024",
            customerName: "City Lights Cinema",
            customerPhone: "0717766554",
            issueDesc: "Movie ticket barcode not scanning at entry.",
            reportedAt: "2025-08-13T17:50:00.000Z",
            resolvedAt: "1900-01-01T00:00:00",
            createdBy: "USR024",
            createduser: "Sahan Wickramasinghe",
            communicationMethod: 4,
            issueStatus: 3, // Resolved
        },
        {
            id: "000025",
            customerID: "CUST025",
            customerName: "Pure Waters Pvt Ltd",
            customerPhone: "0762233445",
            issueDesc: "Subscription renewal not generating invoices.",
            reportedAt: "2025-08-14T08:05:00.000Z",
            resolvedAt: "1900-01-01T00:00:00",
            createdBy: "USR025",
            createduser: "Manjula Perera",
            communicationMethod: 1,
            issueStatus: 4, // Escalated
        },
        {
            id: "000026",
            customerID: "CUST026",
            customerName: "Elite Fashion House",
            customerPhone: "0775566778",
            issueDesc: "Gift card balance not deducted after purchase.",
            reportedAt: "2025-08-14T13:15:00.000Z",
            resolvedAt: "1900-01-01T00:00:00",
            createdBy: "USR026",
            createduser: "Thilini Senanayake",
            communicationMethod: 2,
            issueStatus: 0,
        },
        {
            id: "000027",
            customerID: "CUST027",
            customerName: "Silver Spoon Catering",
            customerPhone: "0718899001",
            issueDesc: "Menu items not displaying correct prices.",
            reportedAt: "2025-08-15T10:30:00.000Z",
            resolvedAt: "1900-01-01T00:00:00",
            createdBy: "USR027",
            createduser: "Roshan Abeyratne",
            communicationMethod: 3,
            issueStatus: 1,
        },
        {
            id: "000028",
            customerID: "CUST028",
            customerName: "Bright Star Electronics",
            customerPhone: "0723344667",
            issueDesc: "Warranty claim status not updating online.",
            reportedAt: "2025-08-15T15:45:00.000Z",
            resolvedAt: "1900-01-01T00:00:00",
            createdBy: "USR028",
            createduser: "Nirmala Hettiarachchi",
            communicationMethod: 1,
            issueStatus: 2,
        },
        {
            id: "000029",
            customerID: "CUST029",
            customerName: "Happy Paws Grooming",
            customerPhone: "0757788991",
            issueDesc: "Appointment reminder emails going to spam.",
            reportedAt: "2025-08-16T09:55:00.000Z",
            resolvedAt: "1900-01-01T00:00:00",
            createdBy: "USR029",
            createduser: "Pasan Ratnayake",
            communicationMethod: 4,
            issueStatus: 0,
        },
        {
            id: "000030",
            customerID: "CUST030",
            customerName: "Green Planet Landscaping",
            customerPhone: "0714455667",
            issueDesc: "Payment receipt not generated after online payment.",
            reportedAt: "2025-08-16T14:20:00.000Z",
            resolvedAt: "1900-01-01T00:00:00",
            createdBy: "USR030",
            createduser: "Madusha Jayawardena",
            communicationMethod: 2,
            issueStatus: 3,
        },

      ];

      setIssues(dummyIssues);
      setLoading(false);
    }, 500); // 0.5s delay
  }, []);

  return { issues, loading };
}